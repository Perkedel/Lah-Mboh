// Realm667's Decorate Submissions
// Amalgamated by JOELwindows7

// Haste Sphere. Scalliano, originally from id Software's Quake 3
// https://www.realm667.com/repository/item-store/powerups-artifacts#preview-27
actor HasteSphere : PowerupGiver 32602
{
    //$Category Powerups
    //$Title Haste Sphere
	Game Doom
	inventory.pickupmessage "Turbocharge!!."
	inventory.maxamount 0
	powerup.duration -30
	powerup.color "FF FF 00", 0.1
	powerup.type Speed
	+COUNTITEM
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	States
	{
	Spawn:
		HAST ABCB 6 Bright
		Loop
	}
}

// Regen Sphere. Scalliano.
// https://www.realm667.com/repository/item-store/powerups-artifacts#credits-47
// was 32602
actor RegenSphere : PowerupGiver 32603
{
    //$Category Powerups
    //$Title Regeneration Sphere
	Game Doom
	inventory.pickupmessage "Regeneration!!."
	inventory.maxamount 0
	powerup.duration -60
	powerup.color "FF FF FF", 0.1
	powerup.type Regeneration
	+COUNTITEM
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	States
	{
	Spawn:
		REGN ABCD 6 Bright
		Loop
	}
}


// Insanity Sphere. DBJ87, That_One_Doom_Mod, BlueShadow, originally from id Software x Midway DOOM 64
// https://www.realm667.com/repository/item-store/powerups-artifacts#preview-30
// was 15087
Actor InsanitySphere : CustomInventory 32702//15087
{
  //$Category Powerups
  //$Title Insanity Sphere
  //$Sprite INSSA0
  Game Doom
  +COUNTITEM
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  +INVENTORY.FANCYPICKUPSOUND
  Inventory.PickupMessage "Insanity finally takes over!"
  Inventory.PickupSound "misc/p_pkup"
  Inventory.Icon "INSSA0"
  Height 34
  Scale 0.7
  States
  {
  Spawn:
    INSS AABBCCDD 3 Bright
    Loop
  Pickup:
	TNT1 A 0 A_GiveInventory("PowerStrength")
	TNT1 A 0 A_GiveInventory("InsanityProtection")
	TNT1 A 0 A_GiveInventory("InsanityStart")
	// [Blue Shadow] Give and switch to the fists.
	TNT1 A 0 A_GiveInventory("RageFist")
	TNT1 A 0 A_SelectWeapon("RageFist")
	Stop
	}
}

Actor InsanityStart : PowerupGiver
{
	Inventory.MaxAmount 0
	Powerup.Type PowerInsanity //InsanityTakeover
	Powerup.Duration -60
	-COUNTITEM
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	States
	{
	Spawn:
		TNT1 A -1
		stop
	}
}

Actor RageFist : Fist
{
	Inventory.Icon "INSSA0"
	Weapon.SlotNumber 1
	Weapon.Kickback 150
	-WEAPON.WIMPY_WEAPON
	+WEAPON.CHEATNOTWEAPON
	States
	{
  Ready:
    PUCH A 1
	{
		// [Blue Shadow] Weapon can't be switched out.
		a_weaponready(WRF_DISABLESWITCH);

		// [Blue Shadow] Take away the weapon once the powerup wears off.
		if(!CountInv("PowerInsanity"))
		{
			A_TakeInventory("RageFist");
		}
	}
    loop
  Deselect:
    PUCH A 1 A_Lower
    loop
  Select:
    PUCH A 1
	{
		// [Blue Shadow] Handles the case when entering a new map.
		if(!CountInv("PowerInsanity"))
		{
			A_TakeInventory("RageFist");
			return;
		}

		A_Raise(12); // [Blue Shadow] Raise the weapon with double the normal speed.
	}
    loop
  Fire:
    TNT1 A 0 A_JumpIfInventory("FistSwap", 1, "LeftPunch")
    PUCH A 3 A_Playsound("InsanityPunch/Swing1",Chan_Weapon,0.7)
    PUCH B 2
    PUCH L 2 A_CustomPunch(20*Random(1,20),True,CPF_PULLIN,"BulletPuff",64,1,200,"ArmorBonus","InsanityPunch/Impact")
    PUCH C 2
    PUCH M 2
    PUCH D 2
    PUCH N 2
    PUCH E 2
    PUCH R 2
    TNT1 A 0 A_GiveInventory("FistSwap",1)
    PUCH K 3
    goto Ready
    LeftPunch:
    PUCH F 3 A_Playsound ("InsanityPunch/Swing",Chan_Weapon,0.7)
	PUCH G 2
    PUCH O 2 A_CustomPunch(20*Random(1,20),True,CPF_PULLIN,"BulletPuff",64,1,200,"ArmorBonus","InsanityPunch/Impact")
    PUCH H 2
    PUCH P 2
    PUCH I 2
    PUCH Q 2
    PUCH J 2
    TNT1 A 0 A_TakeInventory("FistSwap",1)
    PUCH K 3
    goto Ready
  }
}

actor FistSwap : Inventory {}

Actor PowerInsanityProtection : PowerProtection
{
	DamageFactor "Normal",0.5
	//DamageFactor "Melee",0.5 //Example of a Custom damage type.
	//Add any Damage Types you wish to reduce here, such as "Fire".
}
Actor InsanityProtection : PowerupGiver
{
	Inventory.MaxAmount 0
	Powerup.Type InsanityProtection
	powerup.color Red
	Powerup.Duration -60
	-COUNTITEM
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	states
	{
	Spawn:
		TNT1 A -1
		stop
	}
}

// Rage Sphere. Captain Toenail, inspired from Unreal's Berserk
// https://www.realm667.com/repository/item-store/powerups-artifacts#preview-44
// was 12572
ACTOR RageSphere : PowerupGiver 32703
{
	//$Title Rage Sphere
	//$Category Powerups

	+COUNTITEM
	+NOGRAVITY
	//+FLOATBOB
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP

	Inventory.MaxAmount 0
	Inventory.PickupMessage "Double Fire Speed!"
	Powerup.Type "PowerDoubleFiringSpeed"
	Powerup.Color 255, 32, 32, 0.25
	Powerup.Duration -60
	RenderStyle Translucent
	Alpha 0.8
	//FloatBobStrength 0.1
	
		States
		{
			Spawn:	
				RAGS ABCDCB 5 Bright
				Loop
		}
}

// Checkpoint Disk. Matacrat
/*
Name: Checkpoint Disk / Save Disk
Type: Checkpoint / Powerup
Palette: Doom
Summon: sp_SaveDisk
Use type: Instant
Duration: 1 to 3 Seconds.
Brightmaps: No
Actor modification: No
ACS: Yes

Code: Matacrat (and a bit of Korshun)
GLDefs: Matacrat
Sounds: EarthBound's Healing Sound and Tomb Raider's Secret Sound
Sprites: Save Disk Graphic (STDISK) from Id Software
Sprite Edit: None
Idea Base: Exl's Save Disk System and BioHazard's Checkpoint system.
*/
Actor sp_SaveDisk : CustomInventory 32735
{
	Tag "Save Disk"
	//$Title Save Disk
	//$Category Powerups
	//$Sprite SAVEA0
	//$Color 9
	//$NotAngled
	Height 56
	Radius 25
	Gravity 2.0
	FloatBobPhase -1
	Inventory.PickupMessage "$sp_CheckHitYou"
	Inventory.PickupFlash "sp_FlashSpawner"
	Inventory.PickupSound "dsempty"
	+INVENTORY.NOSCREENFLASH
	+INVENTORY.ALWAYSPICKUP
	+CANPASS
	-CANBLAST
	+FLOATBOB
	+NOTDMATCH
	-COUNTITEM
	-NOGRAVITY
	+NEVERRESPAWN
	+NOTIMEFREEZE
	+NOTELEOTHER
	+FIXMAPTHINGPOS
	+DONTGIB
	+BRIGHT

	States
	{
		Spawn:
			SAVE A -1
			Stop
		Pickup:
			SAVE A 0 ACS_NamedExecute("sp_checkpoint_hit", 0)
			Stop
	}

}

Actor sp_FlashSpawner : Actor
{
	+NOTIMEFREEZE
	+CANPASS
	+NOTELEOTHER
	-CANBLAST
	-SOLID
	-NOGRAVITY
	Height 1
	Radius 24
	Gravity 14.0

	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 ACS_NamedExecuteAlways("sp_SetTID", 0)
			TNT1 A 0 ACS_NamedExecute("sp_revive_all", 0)
			TNT1 A 3 ACS_NamedExecuteAlways("sp_checkpoint_wipe", 0)
			TNT1 A 1 A_SpawnItemEx ("sp_PlayerSpawner",0,0,0,0,0,0,0,SXF_ABSOLUTEANGLE,0,32035)
			TNT1 A 1
			Stop
	}

}

Actor sp_PlayerSpawner : ParticleFountain
{
	Tag "Fountain Spawner"
	Health 3 // Changes the Color...
	Gravity 2.0
	Height 1
	-NOBLOCKMAP
	-NOGRAVITY
	+INVISIBLE
	+NOTIMEFREEZE
	+CANPASS
	+NOTELEOTHER
	-CANBLAST
	+NEVERRESPAWN
	+FIXMAPTHINGPOS
	-SOLID
}

Actor sp_PowerSaved : PowerInvulnerable
{
	inventory.icon "SP_ICON"
	Powerup.Duration 35
}

Actor sp_PowerLoad : sp_PowerSaved
{
	inventory.icon "SP_RICON"
	Powerup.Duration 105
}

// You can DoomEdNum Minus like ID24 does!
// https://github.com/ZDoom/gzdoom/blob/master/wadsrc/static/mapinfo/doomitems.txt
// Read More `/docs/Tutorial/ID24_DoomEdNums.md` about ID24 ed num
/*

*/

// Numbers of ACS Module loaded affect Save Compatibility! Beware of the consequences
// of adding and removing numbers of LOADACS modules!